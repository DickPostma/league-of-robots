---
all:
  children:
    openstack_api:
      hosts:
        localhost:
          ansible_python_interpreter: /usr/bin/env python
    ldap_server:
      hosts:
        # LsAai lDAP
        ladap:
          host_networks:
            - name: donbot_external_network
              security_group: "{{ stack_prefix }}_cluster"
          # Ldap settings
          create_ldap: true
          ldap_domains:
            stack:
              uri: "ldaps://{{ stack_prefix }}"
              base: "dc={{ stack_name }},dc=local"
              schema: rfc2307bis
              min_id: 1000
              max_id: 21999
              user_object_class: posixAccount
              user_name: uid
              user_ssh_public_key: sshPublicKey
              user_member_of: memberOf
              group_member: member
              create_ldap: true
              ldap_db_index: 3  # Indices up to 2 are already used by default for the "config", "monitor" and "example" databases.
          iptables_allow_ldap_inbound:
            - ANY
          regular_groups:
            - 'lsaai'
          regular_users:
            - user: "lsaai"
              groups: "lsaai"
          cluster_common_packages:
            RedHat9:
               - perun-slave-full
administration:
  children:
    ldap_server:
#cluster:
#  children:
#    administration:
donbot_azure:
  children:
    openstack_api:
    administration:
    jumphost:
...
